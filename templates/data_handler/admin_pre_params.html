<!DOCTYPE html>
<html>
<head>
    {% load static %}
    <meta charset="utf-8">
    <title>layui</title>
    <meta name="renderer" content="webkit">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <link rel="stylesheet" href="{% static '/lib/layui-v2.6.3/css/layui.css' %}" media="all">
    <link rel="stylesheet" href="{% static '/lib/jq-module/zyupload/zyupload-test.css' %}" media="all">
    <link rel="stylesheet" href="{% static '/css/public.css' %}" media="all">
<style>
    /**必填红点 */
.layui-form > .layui-form-item > .required:after {
    content: '*';
    color: red;
    position: absolute;
    margin-left: 4px;
    font-weight: bold;
    line-height: 1.8em;
    top: 6px;
    right: 5px;
}
.layui-form > .layui-form-item > .layui-input-block > tip {
    display: inline-block;
    margin-top: 10px;
    line-height: 10px;
    font-size: 10px;
    color: #a29c9c;
}



.layui-form > .layui-form-item > .layui-form-label{
    width: 160px;
}
.layui-form > .layui-form-item > .layui-input-block {
    margin-left: 160px;
}


.layui-form > .layui-form-item > .layui-temp>.layui-form-label{
    width: 160px;
}
.layui-form > .layui-form-item > .layui-temp>.layui-input-block {
    margin-left: 160px;
}

.layui-form > .layui-form-item > .layui-inline>.layui-form-label{
    width: 160px;
}
.layui-form > .layui-form-item > .layui-inline>.layui-input-block {
    margin-left: 160px;
}
</style>

<script>
    function RegularNum(obj) {
            obj.value = obj.value.replace(/[^\d.]/g, ""); //清除"数字"和"."以外的字符
            obj.value = obj.value.replace(/^\./g, ""); //验证第一个字符是数字
            obj.value = obj.value.replace(/\.{2,}/g, "."); //只保留第一个, 清除多余的
            obj.value = obj.value.replace(".", "$#$").replace(/\./g, "").replace("$#$", ".");
            obj.value = obj.value.replace(/^(\-)*(\d+)\.(\d\d\d).*$/, '$1$2.$6'); //只能输入六个小数
        };
    function zhzs(obj){

             obj.value = obj.value.replace(/[^\d]/g,'');
        }
</script>


</head>


  {% if messages %}
        <script>
            {% for msg in messages %}
                //layer.msg('test',{icon:6})
                alert('{{ msg.message }}');
            {% endfor %}
        </script>
    {% endif %}


<body>
<div class="layuimini-container">
    <div class="layuimini-main">

        <blockquote class="layui-elem-quote layui-text">
            请在此按照提示输入修改后的预处理算法参数
        </blockquote>

        <form class="layui-form layui-form-pane" id="mainform"  method="post" action="/admin/update_preparams/" >
            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                <legend>SCIS参数</legend>
            </fieldset>


            <div class="layui-form-item">
                <label class="layui-form-label">batch_size</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))" onkeyup="value=value.replace(/[^\d]/g,'')"    lay-verify="required"   name="scis_bs"  id="scis_bs"  placeholder="请输入batch_size"  value="{{ scis.batch_size }}" class="layui-input">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">hint_rate</label>
                <div class="layui-input-block">
                    <input type="number"  onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   lay-verify="required"   name="scis_hr" id="scis_hr" placeholder="请输入hint_rate"  value="{{ scis.hint_rate }}" class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">alpha</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="scis_al" id="scis_al" placeholder="请输入alpha"  value="{{ scis.alpha }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">iterations</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="scis_iter" id="scis_iter" placeholder="请输入iterations" value="{{ scis.iterations }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">epoch</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"  onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="scis_ep" id="scis_ep" placeholder="请输入epoch"  value="{{ scis.epoch }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">guarantee</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   lay-verify="required"   name="scis_gu" id="scis_gu" placeholder="请输入guarantee"  value="{{ scis.guarantee }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">thre_value</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   lay-verify="required"   name="scis_tv" id="scis_tv" placeholder="请输入thre_value"  value="{{ scis.thre_value }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">initial_value</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"  onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="scis_iv" id="scis_iv" placeholder="请输入initial_value"value="{{ scis.initial_value }}"   class="layui-input">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">epsilon</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   lay-verify="required"   name="scis_eps" id="scis_eps" placeholder="请输入epsilon"  value="{{ scis.epsilon }}"   class="layui-input">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">value</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"  onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="scis_va" id="scis_va" placeholder="请输入value"  value="{{ scis.value }}"   class="layui-input">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">s_miss</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   onkeyup="value=value.replace(/[^\d]/g,'')" lay-verify="required"   name="scis_sm" id="scis_sm" placeholder="请输入s_miss"  value="{{ scis.s_miss }}"   class="layui-input">
                </div>
            </div>

            <fieldset class="layui-elem-field layui-field-title" style="margin-top: 20px;">
                <legend>GAIN参数</legend>
            </fieldset>


            <div class="layui-form-item">
                <label class="layui-form-label">batch_size</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"  onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="gain_bs" id="gain_bs"  placeholder="请输入batch_size"  value="{{ gain.batch_size }}"   class="layui-input">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">hint_rate</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   lay-verify="required"   name="gain_hr" id="gain_hr" placeholder="请输入hint_rate"  value="{{ gain.hint_rate }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">alpha</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="gain_al" id="gain_al" placeholder="请输入alpha"  value="{{ gain.alpha }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">iterations</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="gain_iter" id="gain_iter" placeholder="请输入iterations"  value="{{ gain.iterations }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">epoch</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="gain_ep" id="gain_ep" placeholder="请输入epoch"  value="{{ gain.epoch }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">guarantee</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   lay-verify="required"   name="gain_gu" id="gain_gu" placeholder="请输入guarantee"  value="{{ gain.guarantee }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">thre_value</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   lay-verify="required"   name="gain_tv" id="gain_tv" placeholder="请输入thre_value"  value="{{ gain.thre_value }}"   class="layui-input">
                </div>
            </div>

             <div class="layui-form-item">
                <label class="layui-form-label">initial_value</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="gain_iv" id="gain_iv" placeholder="请输入initial_value"  value="{{ gain.initial_value }}"   class="layui-input">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">epsilon</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   lay-verify="required"   name="gain_eps" id="gain_eps" placeholder="请输入epsilon"  value="{{ gain.epsilon }}"   class="layui-input">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">value</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="gain_va" id="gain_va" placeholder="请输入value"  value="{{ gain.value }}"   class="layui-input">
                </div>
            </div>

            <div class="layui-form-item">
                <label class="layui-form-label">s_miss</label>
                <div class="layui-input-block">
                    <input type="number" onKeypress="return(/[\d\.]/.test(String.fromCharCode(event.keyCode)))"   onkeyup="value=value.replace(/[^\d]/g,'')"  lay-verify="required"   name="gain_sm" id="gain_sm" placeholder="请输入s_miss"  value="{{ gain.s_miss }}"   class="layui-input">
                </div>
            </div>

            <div class="layui-form-item" style="margin: auto">
                    <button class="layui-btn" type="button" id="submit_btn" lay-submit="" lay-filter="demo1" style="margin: auto" >立即提交</button>
             </div>

        </form>

    </div>
</div>

<script src="{% static '/lib/layui-v2.6.3/layui.js' %}" charset="utf-8"></script>
<script type="text/javascript" src="{% static '/lib/area.js' %}" ></script>

<!-- 注意：如果你直接复制所有代码到本地，上述js路径需要改成你本地的 -->
<script>



    layui.use(['form', 'layedit', 'laydate'], function () {
        var $ = layui.jquery;
        var form = layui.form
            , layer = layui.layer
            , layedit = layui.layedit
            , laydate = layui.laydate;

        //var layArea =layui.layArea



        //监听提交

        form.on('submit(demo1)', function (data) {
            //alert("test2")
            btn_submit()
        });

         function btn_submit()
        {
            document.getElementById("mainform").submit();
        }


    });
</script>

</body>
</html>